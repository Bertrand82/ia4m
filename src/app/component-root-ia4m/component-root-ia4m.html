<div class="ia4mail-root">
  <header class="top-banner">
    <div class="top-banner__inner">
      <div class="brand">ia4mail</div>
      <nav class="top-nav">
        <a class="top-nav__link" href="#">Aide</a>
        <a class="top-nav__link button button--outline" href="#">Se connecter</a>
        <app-bg-auth></app-bg-auth>
      </nav>
    </div>
  </header>

  <div class="app" id="inbox">
    <aside class="sidebar">
      <button class="compose">Nouveau message</button>
      <button class="compose"  (click)="debug()">Debug</button>

      <ul class="folders" aria-label="Dossiers">
        <li class="folder active">Boîte de réception <span class="count">{{ getEmails().length }} </span></li>
        <li class="folder">Important</li>
        <li class="folder">Envoyés</li>
        <li class="folder">Brouillons</li>
        <li class="folder">Spam</li>
      </ul>

      <div class="labels">
        <h4>Libellés</h4>
        <ul>
          <li><span class="label-dot label-dot--blue"></span> Projets</li>
          <li><span class="label-dot label-dot--green"></span> Perso</li>
        </ul>
      </div>
    </aside>

    <main class="inbox">
      <div class="inbox__header">
        <div class="search">
          <input type="search" placeholder="Rechercher dans les emails" aria-label="Rechercher">
        </div>
        <div class="inbox-actions">
          <button class="icon-btn" type="button" title="Menu">☰</button>
          <button class="icon-btn" type="button" title="Paramètres">⚙</button>
        </div>
      </div>
      <list-email></list-email>
      
    </main>  

    <!-- utilisation de "as email" pour lever l'erreur TS2531 -->
    <aside class="preview" *ngIf="selectedEmail as email; else emptyPreview">
      <div class="preview__header">
        <h3>{{ email.subject }}</h3>
        <div class="preview-meta">
          <span class="sender">{{ email.from }}</span>
          <span class="time">{{ email.time }}</span>
        </div>
      </div>
      <div class="preview__content">
        <p>{{ email.body }}</p>
      </div>
    </aside>

    <ng-template #emptyPreview>
      <aside class="preview">
        <email-detail></email-detail>
      </aside>
    </ng-template>
  </div>

  <button class="fab" aria-label="Nouveau message">+</button>
</div>
